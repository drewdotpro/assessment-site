# ============================================================================
# CMS CONFIGURATION TEMPLATE - SOURCE FILE
# ============================================================================
#
# This is the SOURCE template for Decap CMS configuration.
#
# TO MODIFY CMS CONFIGURATION:
#   - Edit THIS file (public/admin/config.template.yml)
#   - Changes apply to ALL sites (assessments, adhd, autism)
#   - Regenerate with: npm run dev:assessments (or adhd/autism)
#
# DO NOT edit public/admin/config.yml - it's auto-generated from this template
#
# Placeholders that get replaced during generation:
#   {{WEBSITE_ID}} - Site identifier (assessments/adhd/autism)
#   {{MEDIA_FOLDER}} - Site-specific media path
#   {{PUBLIC_FOLDER}} - Site-specific public path
#   {{SITE_URL}} - Site-specific URL
# ============================================================================

backend:
  name: github
  repo: drewdotpro/assessment-site
  branch: main
  commit_messages:
    create: 'feat(content/{{WEBSITE_ID}}): Create {{collection}} "{{slug}}"'
    update: 'feat(content/{{WEBSITE_ID}}): Update {{collection}} "{{slug}}"'
    delete: 'feat(content/{{WEBSITE_ID}}): Delete {{collection}} "{{slug}}"'
    uploadMedia: 'feat(media/{{WEBSITE_ID}}): Upload "{{path}}"'
    deleteMedia: 'feat(media/{{WEBSITE_ID}}): Delete "{{path}}"'
publish_mode: editorial_workflow
local_backend: true
media_folder: { { MEDIA_FOLDER } }
public_folder: { { PUBLIC_FOLDER } }
site_url: { { SITE_URL } }
display_url: { { SITE_URL } }
collections:
  - name: site_settings
    label: Site Settings
    delete: false
    editor:
      preview: false
    files:
      - name: general
        label: General Settings
        file: src/content/{{WEBSITE_ID}}/site-settings.yaml
        fields:
          - label: Site Information
            name: site
            widget: object
            fields:
              - label: Site Name
                name: name
                widget: string
              - label: Site Email
                name: email
                widget: string
              - label: ICO Registration
                name: ico_registration
                widget: string
              - label: Waitlist Only Mode
                name: waitlist_only
                widget: boolean
                default: false
                hint: When enabled, all consultation links become waitlist links and /consultation redirects to /waitlist
          - label: Logo Settings
            name: logo
            widget: object
            fields:
              - label: Light Mode Logo
                name: light
                widget: image
              - label: Dark Mode Logo
                name: dark
                widget: image
              - label: Logo Alt Text
                name: alt
                widget: string
          - label: Footer Settings
            name: footer
            widget: object
            fields:
              - label: Footer Title
                name: title
                widget: string
              - label: Business Info
                name: business_info
                widget: text
  - name: home_page
    label: Home Page
    delete: false
    editor:
      preview: false
    files:
      - name: content
        label: Home Page Content
        file: src/content/{{WEBSITE_ID}}/home-page/content.yaml
        fields:
          - label: Hero Section
            name: hero
            widget: object
            fields:
              - label: Hero Image
                name: image
                widget: image
              - label: Hero Image Alt Text
                name: image_alt
                widget: string
                required: false
                hint: Describe what the image shows (e.g., "Person using laptop in bright office space"). Leave empty for decorative images.
              - label: Main Text
                name: text
                widget: string
              - label: Title
                name: title
                widget: string
              - label: Subtitle
                name: subtitle
                widget: string
          - label: Call to Actions
            name: ctas
            widget: object
            fields:
              - label: Consultation CTA
                name: consultation
                widget: object
                hint: Shown when Waitlist Only Mode is inactive. Always links to /consultation.
                fields:
                  - label: Text
                    name: text
                    widget: string
                  - label: Alt Text
                    name: alt
                    widget: string
              - label: Waitlist CTA
                name: waitlist
                widget: object
                hint: Shown when Waitlist Only Mode is active. Always links to /waitlist.
                fields:
                  - label: Text
                    name: text
                    widget: string
                  - label: Alt Text
                    name: alt
                    widget: string
              - label: Secondary CTA
                name: secondary
                widget: object
                fields:
                  - label: Text
                    name: text
                    widget: string
                  - label: Link
                    name: link
                    widget: string
                  - label: Alt Text
                    name: alt
                    widget: string
              - label: Deep CTA
                name: deep
                widget: object
                fields:
                  - label: Lead Text
                    name: lead_text
                    widget: text
                  - label: Text
                    name: text
                    widget: string
                  - label: Link
                    name: link
                    widget: string
                  - label: Alt Text
                    name: alt
                    widget: string
          - label: Section Titles
            name: sections
            widget: object
            fields:
              - label: How It Works Title
                name: how_it_works
                widget: string
              - label: Services Title
                name: services
                widget: string
              - label: Blog Title
                name: blog
                widget: string
              - label: Blog Subtitle
                name: blog_subtitle
                widget: string
              - label: FAQs Title
                name: faqs
                widget: string
          - label: How It Works Steps
            name: steps
            widget: list
            max: 3
            fields:
              - label: Step Text
                name: text
                widget: string
  - name: site_settings_trust_badges
    label: Site Settings / Trust Badges
    label_singular: Trust Badge
    folder: src/content/{{WEBSITE_ID}}/site-settings/trust-badges
    create: true
    delete: true
    slug: '{{order}}-{{slug}}'
    identifier_field: name
    sortable_fields:
      - order
      - name
    summary: '{{order}}. {{name}}'
    editor:
      preview: false
    fields:
      - label: Organisation Name
        name: name
        widget: string
        hint: Name of the accrediting organisation (e.g., HCPC, GMC)
      - label: Display Text
        name: display_text
        widget: string
        hint: Text to display next to the logo
      - label: Light Mode Logo
        name: logo_light
        widget: image
        hint: Logo for light mode display
        media_library:
          config:
            max_file_size: 512000
      - label: Dark Mode Logo
        name: logo_dark
        widget: image
        hint: Logo for dark mode display
        media_library:
          config:
            max_file_size: 512000
      - label: Alt Text
        name: alt
        widget: string
        hint: Alternative text for accessibility
      - label: Display Order
        name: order
        widget: number
        default: 1
        value_type: int
        min: 1
        hint: Order in which this badge appears (1 = first)
      - label: Published
        name: published
        widget: boolean
        default: true
        hint: Whether this badge is visible on the site
  - name: faqs_page
    label: FAQs Page
    delete: false
    editor:
      preview: false
    files:
      - name: top_content
        label: FAQs Page / Top Content
        file: src/content/{{WEBSITE_ID}}/faqs-page/top-content.yaml
        fields:
          - label: Title Heading
            name: title
            widget: string
            hint: The H1 heading displayed on the page
          - label: Sub-heading
            name: subheading
            widget: string
            required: false
            hint: Optional sub-heading displayed below the title
          - label: Image
            name: image
            widget: image
            required: false
            hint: Optional image displayed after the sub-heading
            media_library:
              config:
                max_file_size: 2048000
          - label: Image Alt Text
            name: image_alt
            widget: string
            required: false
            hint: Describe what the image shows. Required if image is provided. Good example "Therapist reviewing notes", bad example "FAQ image".
          - label: Content
            name: body
            widget: markdown
            required: false
            hint: Optional content displayed before the FAQ items. Supports full markdown formatting.
  - name: faqs_page_items
    label: FAQs Page / FAQ Items
    label_singular: FAQ
    folder: src/content/{{WEBSITE_ID}}/faqs-page/faq-items
    create: true
    delete: true
    slug: '{{order}}-{{slug}}'
    identifier_field: question
    sortable_fields:
      - order
      - question
    summary: '{{order}}. {{question}}'
    editor:
      preview: false
    fields:
      - label: Question
        name: question
        widget: string
        hint: The question to be displayed
      - label: Answer
        name: answer
        widget: text
        hint: The answer to the question
      - label: Display Order
        name: order
        widget: number
        default: 1
        value_type: int
        min: 1
        hint: Order in which this FAQ appears (1 = first)
      - label: Published
        name: published
        widget: boolean
        default: true
        hint: Whether this FAQ is visible on the site
  - name: services_page
    label: Services Page
    delete: false
    editor:
      preview: false
    files:
      - name: top_content
        label: Services Page / Top Content
        file: src/content/{{WEBSITE_ID}}/services-page/top-content.yaml
        fields:
          - label: Title Heading
            name: title
            widget: string
            hint: The H1 heading displayed on the page
          - label: Sub-heading
            name: subheading
            widget: string
            required: false
            hint: Optional sub-heading displayed below the title
          - label: Image
            name: image
            widget: image
            required: false
            hint: Optional image displayed after the sub-heading
            media_library:
              config:
                max_file_size: 2048000
          - label: Image Alt Text
            name: image_alt
            widget: string
            required: false
            hint: Describe what the image shows. Required if image is provided. Good example "Therapist reviewing notes", bad example "Services image".
          - label: Content
            name: body
            widget: markdown
            required: false
            hint: Optional content displayed before the service items. Supports full markdown formatting.
  - name: services_page_items
    label: Services Page / Service Items
    label_singular: Service
    folder: src/content/{{WEBSITE_ID}}/services-page/services
    create: true
    delete: true
    slug: '{{order}}-{{slug}}'
    identifier_field: title
    sortable_fields:
      - order
      - title
    summary: '{{order}}. {{title}}'
    editor:
      preview: false
    fields:
      - label: Service Title
        name: title
        widget: string
        hint: The name of the service
      - label: Description
        name: description
        widget: text
        hint: Brief description of the service
      - label: Anchor ID
        name: anchor
        widget: string
        pattern:
          - ^[a-z0-9-]+$
          - Must be lowercase letters, numbers, and hyphens only
        hint: URL anchor for linking to this service on the services page (e.g., "adhd-adults")
      - label: Display Order
        name: order
        widget: number
        default: 1
        value_type: int
        min: 1
        hint: Order in which this service appears (1 = first)
      - label: Icon
        name: icon
        widget: tabler-icon-picker
        required: false
        hint: Choose an icon for the service card from 5,993 Tabler icons
      - label: Published
        name: published
        widget: boolean
        default: true
        hint: Whether this service is visible on the site
  - name: consultation_page
    label: Consultation Page
    delete: false
    editor:
      preview: false
    files:
      - name: content
        label: Consultation Page
        file: src/content/{{WEBSITE_ID}}/consultation-page/content.yaml
        fields:
          - label: Title Heading
            name: title
            widget: string
            hint: The H1 heading displayed on the page
          - label: Sub-heading
            name: subheading
            widget: string
            required: false
            hint: Optional sub-heading displayed below the title
          - label: Image
            name: image
            widget: image
            required: false
            hint: Optional image displayed after the sub-heading
            media_library:
              config:
                max_file_size: 2048000
          - label: Image Alt Text
            name: image_alt
            widget: string
            required: false
            hint: Describe what the image shows. Required if image is provided. Good example "Comfortable consultation room", bad example "Consultation image".
          - label: Content
            name: body
            widget: markdown
            required: false
            hint: Optional content displayed before the booking calendar. Supports full markdown formatting.
          - label: Google Calendar Booking Link
            name: google_calendar_link
            widget: string
            pattern:
              - ^https://calendar\.google\.com/.+$
              - Must be a valid Google Calendar URL
            hint: The full Google Calendar Appointments Schedule link
  - name: contact_page
    label: Contact Page
    delete: false
    editor:
      preview: false
    files:
      - name: content
        label: Contact Page
        file: src/content/{{WEBSITE_ID}}/contact-page/content.yaml
        fields:
          - label: Title Heading
            name: title
            widget: string
            hint: The H1 heading displayed on the page
          - label: Sub-heading
            name: subheading
            widget: string
            required: false
            hint: Optional sub-heading displayed below the title
          - label: Image
            name: image
            widget: image
            required: false
            hint: Optional image displayed after the sub-heading
            media_library:
              config:
                max_file_size: 2048000
          - label: Image Alt Text
            name: image_alt
            widget: string
            required: false
            hint: Describe what the image shows. Required if image is provided. Good example "Friendly reception desk", bad example "Contact image".
          - label: Content
            name: body
            widget: markdown
            required: false
            hint: Optional content displayed before the contact button. Supports full markdown formatting.
  - name: waitlist_page
    label: Waitlist Page
    delete: false
    editor:
      preview: false
    files:
      - name: content
        label: Waitlist Page
        file: src/content/{{WEBSITE_ID}}/waitlist-page/content.yaml
        fields:
          - label: Title Heading
            name: title
            widget: string
            hint: The H1 heading displayed on the page
          - label: Sub-heading
            name: subheading
            widget: string
            required: false
            hint: Optional sub-heading displayed below the title
          - label: Image
            name: image
            widget: image
            required: false
            hint: Optional image displayed after the sub-heading
            media_library:
              config:
                max_file_size: 2048000
          - label: Image Alt Text
            name: image_alt
            widget: string
            required: false
            hint: Describe what the image shows. Required if image is provided. Good example "People in waiting area", bad example "Waitlist image".
          - label: Content
            name: body
            widget: markdown
            required: false
            hint: Optional content displayed before the waitlist form. Supports full markdown formatting.
          - label: Google Form Link
            name: google_form_link
            widget: string
            pattern:
              - ^https://docs\.google\.com/forms/.+$
              - Must be a valid Google Forms URL
            hint: The full Google Form link
  - name: text_pages
    label: Text Pages
    label_singular: Text Page
    folder: src/content/{{WEBSITE_ID}}/text-pages
    create: false
    delete: false
    slug: '{{slug}}'
    identifier_field: title
    sortable_fields:
      - title
    summary: '{{title}}'
    editor:
      preview: false
    fields:
      - label: Slug
        name: slug
        widget: hidden
      - label: Title Heading
        name: title
        widget: string
        hint: The H1 heading displayed on the page
      - label: Sub-heading
        name: subheading
        widget: string
        required: false
        hint: Optional sub-heading displayed below the title
      - label: Image
        name: image
        widget: image
        required: false
        hint: Optional image displayed after the sub-heading
        media_library:
          config:
            max_file_size: 2048000
      - label: Image Alt Text
        name: image_alt
        widget: string
        required: false
        hint: Describe what the image shows. Required if image is provided. Keep under 125 characters.
      - label: Content
        name: body
        widget: markdown
        hint: The main content of the page. Supports full markdown formatting.
  - name: post
    label: Blog Posts
    label_singular: Blog Post
    folder: src/content/{{WEBSITE_ID}}/blog-posts
    create: true
    delete: true
    slug: '{{slug}}'
    extension: md
    format: frontmatter
    preview_path: /{{slug}}
    sortable_fields:
      - publishDate
      - title
    view_filters:
      - label: Published
        field: draft
        pattern: false
      - label: Drafts
        field: draft
        pattern: true
    fields:
      - label: Title
        name: title
        widget: string
        hint: The main title of your blog post
      - label: Excerpt
        name: excerpt
        widget: text
        hint: A brief summary that appears in blog lists and social shares
        pattern:
          - .{50,160}
          - Must be between 50 and 160 characters
      - label: Category
        name: category
        widget: select
        options:
          - Tutorials
          - News
          - Updates
          - Resources
        hint: Main category for this post
      - label: Tags
        name: tags
        widget: list
        default: []
        hint: Add tags to help readers find related content
        min: 1
        max: 5
      - label: Featured Image
        name: image
        widget: image
        required: false
        hint: Main image for the post. Will be automatically optimised for different screen sizes.
        media_library:
          config:
            max_file_size: 5120000
      - label: Featured Image Alt Text
        name: image_alt
        widget: string
        required: false
        hint: Describe what the image shows. Required if featured image is provided. Keep under 125 characters.
      - label: Publish Date
        name: publishDate
        widget: datetime
        date_format: DD/MM/YYYY
        time_format: false
        hint: When this post should be published
      - label: Author
        name: author
        widget: string
        default: Team
        hint: Author name to display
      - label: Draft
        name: draft
        widget: boolean
        default: false
        hint: Set to true to hide from production site
      - label: Content
        name: body
        widget: markdown
        hint: The main content of your blog post. Supports full markdown.
        editor_components:
          - image
          - code-block
      - label: SEO Metadata
        name: metadata
        widget: object
        collapsed: true
        required: false
        hint: Optional SEO settings to override defaults
        fields:
          - label: Canonical URL
            name: canonical
            widget: string
            required: false
            pattern:
              - ^https?://.+$
              - Must be a valid URL
            hint: Use if this content is published elsewhere
          - label: No Index
            name: noindex
            widget: boolean
            required: false
            hint: Prevent search engines from indexing this page
